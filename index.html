<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Эмоцияны тексеру</title>
    <style>
        /* 页面整体背景：深色渐变感 */
        body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            font-family: 'Segoe UI', sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
        }
        /* 手机端自适应卡片 */
        .card { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(10px); 
            width: 90%; 
            max-width: 400px; 
            padding: 30px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
            text-align: center;
        }
        h2 { color: #333; margin-bottom: 20px; font-size: 24px; }
        /* 现代化输入框 */
        textarea { 
            width: 100%; 
            height: 120px; 
            border: 2px solid #eee; 
            border-radius: 12px; 
            padding: 15px; 
            font-size: 16px; 
            box-sizing: border-box; 
            outline: none; 
            transition: 0.3s;
            resize: none;
        }
        textarea:focus { border-color: #764ba2; }
        /* 酷炫按钮 */
        button { 
            width: 100%; 
            background: #764ba2; 
            color: white; 
            border: none; 
            padding: 15px; 
            border-radius: 12px; 
            margin-top: 20px; 
            cursor: pointer; 
            font-size: 18px; 
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
        }
        /* 结果显示区 */
        #result-box { margin-top: 30px; display: none; }
        .status-text { font-size: 20px; font-weight: bold; margin-bottom: 5px; }
        .badge { 
            display: inline-block; 
            padding: 10px 30px; 
            border-radius: 50px; 
            color: white; 
            font-size: 22px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }
        /* 颜色分类 */
        .pos { background: #2ecc71; } /* 积极 */
        .neu { background: #f1c40f; } /* 中等 */
        .neg { background: #e74c3c; } /* 消极 */
    </style>
</head>
<body>

<div class="card">
    <h2>AI Эмоцияны тексеру</h2>
    <textarea id="textInput" placeholder="Ой бөлісіңіз... (Мәтінді осында жазыңыз)"></textarea>
    <button onclick="runAI()">Талдау жасау</button>

    <div id="result-box">
        <div class="status-text" style="color:#666; font-size: 14px;">Нәтиже:</div>
        <div id="badge" class="badge">--</div>
    </div>
</div>

<script>
    async function analyzeSentiment() {
    // 获取用户输入的文字
    const userInput = document.getElementById('user-input').value;
    const resultElement = document.getElementById('result');

    if (!userInput) {
        alert("Мәтінді енгізіңіз!"); // 提示：请输入文字
        return;
    }

    // 显示正在分析的状态
    resultElement.innerText = "ЖИ талдау жасауда..."; // 提示：AI正在分析

    try {
        // 调用我们刚才说的 api/analyze.js 接口
        const response = await fetch('/api/analyze', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ text: userInput }),
        });

        if (!response.ok) throw new Error('Қате орын алды');

        const data = await response.json();

        // 显示哈萨克语的分析结果
        resultElement.innerText = "Талдау нәтижесі: " + data.sentiment;

    } catch (error) {
        console.error(error);
        resultElement.innerText = "Қате: Жүйеге қосылу мүмкін болмады."; // 提示：错误，无法连接系统
    }
</script>

</body>
</html>

